$(function () {
  $("#loginForm").validate({
    rules: { email: { required: !0, email: !0 }, password: { required: !0 } },
    messages: {
      email: {
        required: "",
        email: "",
      },
      password: { required: "" },
    },
    submitHandler: function (a) {
      var b, c, d, e;
      $("#remember").prop("checked")
        ? $("#remember").val(1)
        : $("#remember").val(null),
        (b = $("#email").val()),
        (c = $("#password").val()),
        (d = $("#remember").val()),
        $(a).find(":submit").attr("disabled", !0),
        $.ajax({
          type: "POST",
          data: { email: b, password: c, autoLogin: d },
          url: ctx + "/user/login.json",
        }).done(function (b) {
          b.success ? top.location.reload() : $("#beError").text(b.msg).show(),
            $(a).find(":submit").attr("disabled", !1);
        });
    },
  }),
    $("body").on("click", "a.btn_s", function () {
      $.colorbox.close(), parent.jQuery.colorbox.close();
    }),
    $(".inline").colorbox({ inline: !0 }),
    $(".errorTips").click(function () {
      errorTips("");
    }),
    $("#resend").click(function () {
      var a = $("#userid").val(),
        b = $("#resend_type").val();
      $.ajax({
        type: "POST",
        data: { code: a, type: b },
        url: ctx + "/user/resendActivatedMail",
      }).done(function (a) {
        a.success
          ? $.colorbox({
              inline: !0,
              href: "#resend_success",
              title: "",
            })
          : alert(a.msg);
      });
    });
});
